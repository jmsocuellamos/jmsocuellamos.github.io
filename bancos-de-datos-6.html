<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Unidad 11 Bancos de datos | Modelos Estadísticos</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Unidad 11 Bancos de datos | Modelos Estadísticos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Unidad 11 Bancos de datos | Modelos Estadísticos" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Javier Morales (Universidad Miguel Hernández de Elche)" />
<meta name="author" content="Mª Asunción Martínez (Universidad Miguel Hernández de Elche)" />


<meta name="date" content="2021-05-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="glmtablascont.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://sites.google.com/umh.es/statistical-models" target="blank">Modelos Estadísticos</a></li>
<li><a href="./">J. Morales y A.M. Mayoral</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a></li>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html"><i class="fa fa-check"></i>Antes de empezar</a><ul>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html#conceptos-básicos-del-diseño-experimental"><i class="fa fa-check"></i>Conceptos básicos del diseño experimental</a><ul>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html#objetivo-del-diseño-experimental"><i class="fa fa-check"></i>Objetivo del diseño experimental</a></li>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html#población-y-muestra"><i class="fa fa-check"></i>Población y muestra</a></li>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html#medidas-y-escalas-de-medida"><i class="fa fa-check"></i>Medidas y escalas de medida</a></li>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html#parámetros-poblacionales-y-estadísticos"><i class="fa fa-check"></i>Parámetros poblacionales y estadísticos</a></li>
</ul></li>
<li><a href="antes-de-empezar.html#primeros-pasos-con-r-y-rstudio">Primeros pasos con <code>R</code> y <code>RStudio</code></a><ul>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html#instalación-y-puesta-en-marcha"><i class="fa fa-check"></i>Instalación y puesta en marcha</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="antes-de-empezar.html"><a href="antes-de-empezar.html#informes-prediseñados"><i class="fa fa-check"></i>Informes prediseñados</a></li>
<li><a href="antes-de-empezar.html#librerías-de-r-necesarías">Librerías de <code>R</code> necesarías</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="modelstats.html"><a href="modelstats.html"><i class="fa fa-check"></i><b>1</b> Modelos estadísticos</a><ul>
<li class="chapter" data-level="1.1" data-path="modelstats.html"><a href="modelstats.html#componentes-del-modelo"><i class="fa fa-check"></i><b>1.1</b> Componentes del modelo</a></li>
<li class="chapter" data-level="1.2" data-path="modelstats.html"><a href="modelstats.html#tipos-de-modelos"><i class="fa fa-check"></i><b>1.2</b> Tipos de modelos</a></li>
<li class="chapter" data-level="1.3" data-path="modelstats.html"><a href="modelstats.html#fases-en-la-construcción-de-un-modelo"><i class="fa fa-check"></i><b>1.3</b> Fases en la construcción de un modelo</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rls.html"><a href="rls.html"><i class="fa fa-check"></i><b>2</b> Regresión Lineal Simple (RLS)</a><ul>
<li class="chapter" data-level="2.1" data-path="rls.html"><a href="rls.html#bancos-de-datos"><i class="fa fa-check"></i><b>2.1</b> Bancos de datos</a></li>
<li class="chapter" data-level="2.2" data-path="rls.html"><a href="rls.html#modelorls"><i class="fa fa-check"></i><b>2.2</b> El modelo RLS</a></li>
<li class="chapter" data-level="2.3" data-path="rls.html"><a href="rls.html#estimacionrls"><i class="fa fa-check"></i><b>2.3</b> Estimación del modelo</a><ul>
<li class="chapter" data-level="2.3.1" data-path="rls.html"><a href="rls.html#mincuadrls"><i class="fa fa-check"></i><b>2.3.1</b> Estimación Mínimos Cuadrados</a></li>
<li class="chapter" data-level="2.3.2" data-path="rls.html"><a href="rls.html#emvrls"><i class="fa fa-check"></i><b>2.3.2</b> Estimación Máximo Verosímil</a></li>
<li class="chapter" data-level="2.3.3" data-path="rls.html"><a href="rls.html#emR"><i class="fa fa-check"></i><b>2.3.3</b> Estimación con R</a></li>
<li class="chapter" data-level="2.3.4" data-path="rls.html"><a href="rls.html#ejemplos"><i class="fa fa-check"></i><b>2.3.4</b> Ejemplos</a></li>
<li class="chapter" data-level="2.3.5" data-path="rls.html"><a href="rls.html#propiedades-de-la-recta-de-regresión."><i class="fa fa-check"></i><b>2.3.5</b> Propiedades de la recta de regresión.</a></li>
<li class="chapter" data-level="2.3.6" data-path="rls.html"><a href="rls.html#rls_varmodel"><i class="fa fa-check"></i><b>2.3.6</b> Estimación varianza del modelo.</a></li>
<li class="chapter" data-level="2.3.7" data-path="rls.html"><a href="rls.html#inferencia-sobre-los-coeficientes-del-modelo"><i class="fa fa-check"></i><b>2.3.7</b> Inferencia sobre los coeficientes del modelo</a></li>
<li class="chapter" data-level="2.3.8" data-path="rls.html"><a href="rls.html#ejemplo"><i class="fa fa-check"></i><b>2.3.8</b> Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="rls.html"><a href="rls.html#bondad-del-ajuste"><i class="fa fa-check"></i><b>2.4</b> Bondad del Ajuste</a><ul>
<li class="chapter" data-level="2.4.1" data-path="rls.html"><a href="rls.html#rls_errorresidual"><i class="fa fa-check"></i><b>2.4.1</b> Error residual</a></li>
<li class="chapter" data-level="2.4.2" data-path="rls.html"><a href="rls.html#rls_tablaanova"><i class="fa fa-check"></i><b>2.4.2</b> Tabla Anova</a></li>
<li class="chapter" data-level="2.4.3" data-path="rls.html"><a href="rls.html#coeficiente-de-determinación"><i class="fa fa-check"></i><b>2.4.3</b> Coeficiente de determinación</a></li>
<li class="chapter" data-level="2.4.4" data-path="rls.html"><a href="rls.html#ejemplo-1"><i class="fa fa-check"></i><b>2.4.4</b> Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rls.html"><a href="rls.html#rls_diag"><i class="fa fa-check"></i><b>2.5</b> Diagnóstico del Modelo</a><ul>
<li class="chapter" data-level="2.5.1" data-path="rls.html"><a href="rls.html#linealidad-y-homocedasticidad."><i class="fa fa-check"></i><b>2.5.1</b> Linealidad y homocedasticidad.</a></li>
<li class="chapter" data-level="2.5.2" data-path="rls.html"><a href="rls.html#ejemplo-2"><i class="fa fa-check"></i><b>2.5.2</b> Ejemplo</a></li>
<li class="chapter" data-level="2.5.3" data-path="rls.html"><a href="rls.html#normalidad"><i class="fa fa-check"></i><b>2.5.3</b> Normalidad</a></li>
<li class="chapter" data-level="2.5.4" data-path="rls.html"><a href="rls.html#independencia."><i class="fa fa-check"></i><b>2.5.4</b> Independencia.</a></li>
<li class="chapter" data-level="2.5.5" data-path="rls.html"><a href="rls.html#otros-gráficos-de-diagnóstico"><i class="fa fa-check"></i><b>2.5.5</b> Otros gráficos de diagnóstico</a></li>
<li class="chapter" data-level="2.5.6" data-path="rls.html"><a href="rls.html#incumplimiento-de-hipótesis"><i class="fa fa-check"></i><b>2.5.6</b> Incumplimiento de hipótesis</a></li>
<li class="chapter" data-level="2.5.7" data-path="rls.html"><a href="rls.html#análisis-de-influencia"><i class="fa fa-check"></i><b>2.5.7</b> Análisis de influencia</a></li>
<li class="chapter" data-level="2.5.8" data-path="rls.html"><a href="rls.html#transformaciones"><i class="fa fa-check"></i><b>2.5.8</b> Transformaciones</a></li>
<li class="chapter" data-level="2.5.9" data-path="rls.html"><a href="rls.html#ejemplos-1"><i class="fa fa-check"></i><b>2.5.9</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rls.html"><a href="rls.html#rls_pred"><i class="fa fa-check"></i><b>2.6</b> Predicción del modelo</a><ul>
<li class="chapter" data-level="2.6.1" data-path="rls.html"><a href="rls.html#respuesta-media"><i class="fa fa-check"></i><b>2.6.1</b> Respuesta media</a></li>
<li class="chapter" data-level="2.6.2" data-path="rls.html"><a href="rls.html#nueva-observación"><i class="fa fa-check"></i><b>2.6.2</b> Nueva observación</a></li>
<li class="chapter" data-level="2.6.3" data-path="rls.html"><a href="rls.html#ejemplos-2"><i class="fa fa-check"></i><b>2.6.3</b> Ejemplos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="rlm.html"><a href="rlm.html"><i class="fa fa-check"></i><b>3</b> Regresión Lineal Múltiple y Polinómica</a><ul>
<li class="chapter" data-level="3.1" data-path="rlm.html"><a href="rlm.html#tipos-de-modelos-1"><i class="fa fa-check"></i><b>3.1</b> Tipos de modelos</a><ul>
<li class="chapter" data-level="3.1.1" data-path="rlm.html"><a href="rlm.html#modelos-de-rlm"><i class="fa fa-check"></i><b>3.1.1</b> Modelos de RLM</a></li>
<li class="chapter" data-level="3.1.2" data-path="rlm.html"><a href="rlm.html#modelos-de-rp"><i class="fa fa-check"></i><b>3.1.2</b> Modelos de RP</a></li>
<li class="chapter" data-level="3.1.3" data-path="rlm.html"><a href="rlm.html#expresión-en-r-de-los-modelos"><i class="fa fa-check"></i><b>3.1.3</b> Expresión en R de los modelos</a></li>
<li class="chapter" data-level="3.1.4" data-path="rlm.html"><a href="rlm.html#modelo-saturado-y-anidado"><i class="fa fa-check"></i><b>3.1.4</b> Modelo saturado y anidado</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="rlm.html"><a href="rlm.html#estimación-e-inferencia"><i class="fa fa-check"></i><b>3.2</b> Estimación e inferencia</a><ul>
<li class="chapter" data-level="3.2.1" data-path="rlm.html"><a href="rlm.html#mínimos-cuadrados"><i class="fa fa-check"></i><b>3.2.1</b> Mínimos cuadrados</a></li>
<li class="chapter" data-level="3.2.2" data-path="rlm.html"><a href="rlm.html#propiedades"><i class="fa fa-check"></i><b>3.2.2</b> Propiedades</a></li>
<li class="chapter" data-level="3.2.3" data-path="rlm.html"><a href="rlm.html#máxima-verosimilitud"><i class="fa fa-check"></i><b>3.2.3</b> Máxima verosimilitud</a></li>
<li class="chapter" data-level="3.2.4" data-path="rlm.html"><a href="rlm.html#inferencia"><i class="fa fa-check"></i><b>3.2.4</b> Inferencia</a></li>
<li class="chapter" data-level="3.2.5" data-path="rlm.html"><a href="rlm.html#ejemplos-3"><i class="fa fa-check"></i><b>3.2.5</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="rlm.html"><a href="rlm.html#bondad-del-ajuste-1"><i class="fa fa-check"></i><b>3.3</b> Bondad del ajuste</a><ul>
<li class="chapter" data-level="3.3.1" data-path="rlm.html"><a href="rlm.html#tabla-anova"><i class="fa fa-check"></i><b>3.3.1</b> Tabla ANOVA</a></li>
<li class="chapter" data-level="3.3.2" data-path="rlm.html"><a href="rlm.html#coeficiente-determinación"><i class="fa fa-check"></i><b>3.3.2</b> Coeficiente determinación</a></li>
<li class="chapter" data-level="3.3.3" data-path="rlm.html"><a href="rlm.html#ejemplos-4"><i class="fa fa-check"></i><b>3.3.3</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="rlm.html"><a href="rlm.html#comparación-y-selección-de-modelos"><i class="fa fa-check"></i><b>3.4</b> Comparación y selección de modelos</a><ul>
<li class="chapter" data-level="3.4.1" data-path="rlm.html"><a href="rlm.html#significatividad-de-los-predictores"><i class="fa fa-check"></i><b>3.4.1</b> Significatividad de los predictores</a></li>
<li class="chapter" data-level="3.4.2" data-path="rlm.html"><a href="rlm.html#estadísticos-aic-y-bic"><i class="fa fa-check"></i><b>3.4.2</b> Estadísticos AIC y BIC</a></li>
<li class="chapter" data-level="3.4.3" data-path="rlm.html"><a href="rlm.html#selección-automática"><i class="fa fa-check"></i><b>3.4.3</b> Selección automática</a></li>
<li class="chapter" data-level="3.4.4" data-path="rlm.html"><a href="rlm.html#funciones-en-r"><i class="fa fa-check"></i><b>3.4.4</b> Funciones en R</a></li>
<li class="chapter" data-level="3.4.5" data-path="rlm.html"><a href="rlm.html#ejemplos-5"><i class="fa fa-check"></i><b>3.4.5</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="rlm.html"><a href="rlm.html#multicolinealidad"><i class="fa fa-check"></i><b>3.5</b> Multicolinealidad</a><ul>
<li class="chapter" data-level="3.5.1" data-path="rlm.html"><a href="rlm.html#causas"><i class="fa fa-check"></i><b>3.5.1</b> Causas</a></li>
<li class="chapter" data-level="3.5.2" data-path="rlm.html"><a href="rlm.html#efectos"><i class="fa fa-check"></i><b>3.5.2</b> Efectos</a></li>
<li class="chapter" data-level="3.5.3" data-path="rlm.html"><a href="rlm.html#diagnósticos"><i class="fa fa-check"></i><b>3.5.3</b> Diagnósticos</a></li>
<li class="chapter" data-level="3.5.4" data-path="rlm.html"><a href="rlm.html#soluciones"><i class="fa fa-check"></i><b>3.5.4</b> Soluciones</a></li>
<li class="chapter" data-level="3.5.5" data-path="rlm.html"><a href="rlm.html#ejemplos-6"><i class="fa fa-check"></i><b>3.5.5</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="rlm.html"><a href="rlm.html#diagnóstico"><i class="fa fa-check"></i><b>3.6</b> Diagnóstico</a><ul>
<li class="chapter" data-level="3.6.1" data-path="rlm.html"><a href="rlm.html#tipos-de-residuos"><i class="fa fa-check"></i><b>3.6.1</b> Tipos de Residuos</a></li>
<li class="chapter" data-level="3.6.2" data-path="rlm.html"><a href="rlm.html#linealidad"><i class="fa fa-check"></i><b>3.6.2</b> Linealidad</a></li>
<li class="chapter" data-level="3.6.3" data-path="rlm.html"><a href="rlm.html#homocedasticidad"><i class="fa fa-check"></i><b>3.6.3</b> Homocedasticidad</a></li>
<li class="chapter" data-level="3.6.4" data-path="rlm.html"><a href="rlm.html#normalidad-1"><i class="fa fa-check"></i><b>3.6.4</b> Normalidad</a></li>
<li class="chapter" data-level="3.6.5" data-path="rlm.html"><a href="rlm.html#incorrelación"><i class="fa fa-check"></i><b>3.6.5</b> Incorrelación</a></li>
<li class="chapter" data-level="3.6.6" data-path="rlm.html"><a href="rlm.html#soluciones-a-problemas-detectados-en-el-diagnóstico-del-modelo"><i class="fa fa-check"></i><b>3.6.6</b> Soluciones a problemas detectados en el diagnóstico del modelo</a></li>
<li class="chapter" data-level="3.6.7" data-path="rlm.html"><a href="rlm.html#análisis-de-influencia-1"><i class="fa fa-check"></i><b>3.6.7</b> Análisis de influencia</a></li>
<li class="chapter" data-level="3.6.8" data-path="rlm.html"><a href="rlm.html#funciones-para-diagnóstico-e-influencia"><i class="fa fa-check"></i><b>3.6.8</b> Funciones para diagnóstico e influencia</a></li>
<li class="chapter" data-level="3.6.9" data-path="rlm.html"><a href="rlm.html#ejemplos-7"><i class="fa fa-check"></i><b>3.6.9</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="rlm.html"><a href="rlm.html#predicción"><i class="fa fa-check"></i><b>3.7</b> Predicción</a><ul>
<li class="chapter" data-level="3.7.1" data-path="rlm.html"><a href="rlm.html#estimación-de-la-respuesta-media."><i class="fa fa-check"></i><b>3.7.1</b> Estimación de la respuesta media.</a></li>
<li class="chapter" data-level="3.7.2" data-path="rlm.html"><a href="rlm.html#predicción-de-nuevas-observaciones."><i class="fa fa-check"></i><b>3.7.2</b> Predicción de nuevas observaciones.</a></li>
<li class="chapter" data-level="3.7.3" data-path="rlm.html"><a href="rlm.html#ejemplos-8"><i class="fa fa-check"></i><b>3.7.3</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="rlm.html"><a href="rlm.html#ejercicios"><i class="fa fa-check"></i><b>3.8</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="anova.html"><a href="anova.html"><i class="fa fa-check"></i><b>4</b> Modelos ANOVA</a><ul>
<li class="chapter" data-level="4.1" data-path="anova.html"><a href="anova.html#bancos-de-datos-1"><i class="fa fa-check"></i><b>4.1</b> Bancos de datos</a></li>
<li class="chapter" data-level="4.2" data-path="anova.html"><a href="anova.html#modelos-anova-1-vía"><i class="fa fa-check"></i><b>4.2</b> Modelos ANOVA 1 vía</a><ul>
<li class="chapter" data-level="4.2.1" data-path="anova.html"><a href="anova.html#especificacion-del-modelo-en-r"><i class="fa fa-check"></i><b>4.2.1</b> Especificacion del modelo en <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="anova.html"><a href="anova.html#modelos-anova-dos-vías"><i class="fa fa-check"></i><b>4.3</b> Modelos ANOVA dos vías</a><ul>
<li class="chapter" data-level="4.3.1" data-path="anova.html"><a href="anova.html#especificacion-del-modelo-en-r-1"><i class="fa fa-check"></i><b>4.3.1</b> Especificacion del modelo en <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="anova.html"><a href="anova.html#estimación-y-bondad-de-ajuste-del-modelo"><i class="fa fa-check"></i><b>4.4</b> Estimación y bondad de ajuste del modelo</a><ul>
<li class="chapter" data-level="4.4.1" data-path="anova.html"><a href="anova.html#ejemplos-9"><i class="fa fa-check"></i><b>4.4.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="anova.html"><a href="anova.html#comparación-y-selección-de-modelos-1"><i class="fa fa-check"></i><b>4.5</b> Comparación y selección de modelos</a><ul>
<li class="chapter" data-level="4.5.1" data-path="anova.html"><a href="anova.html#ejemplos-10"><i class="fa fa-check"></i><b>4.5.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="anova.html"><a href="anova.html#diagnóstico-1"><i class="fa fa-check"></i><b>4.6</b> Diagnóstico</a><ul>
<li class="chapter" data-level="4.6.1" data-path="anova.html"><a href="anova.html#ejemplos-11"><i class="fa fa-check"></i><b>4.6.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="anova.html"><a href="anova.html#predicción-1"><i class="fa fa-check"></i><b>4.7</b> Predicción</a><ul>
<li class="chapter" data-level="4.7.1" data-path="anova.html"><a href="anova.html#ejemplos-12"><i class="fa fa-check"></i><b>4.7.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="anova.html"><a href="anova.html#ejercicios-1"><i class="fa fa-check"></i><b>4.8</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ancova.html"><a href="ancova.html"><i class="fa fa-check"></i><b>5</b> Modelos ANCOVA</a><ul>
<li class="chapter" data-level="5.1" data-path="ancova.html"><a href="ancova.html#bancos-de-datos-2"><i class="fa fa-check"></i><b>5.1</b> Bancos de datos</a></li>
<li class="chapter" data-level="5.2" data-path="ancova.html"><a href="ancova.html#modelo-ancova-básico"><i class="fa fa-check"></i><b>5.2</b> Modelo ANCOVA básico</a><ul>
<li class="chapter" data-level="5.2.1" data-path="ancova.html"><a href="ancova.html#i-rectas-de-regresión-perpendiculares"><i class="fa fa-check"></i><b>5.2.1</b> I rectas de regresión perpendiculares</a></li>
<li class="chapter" data-level="5.2.2" data-path="ancova.html"><a href="ancova.html#i-rectas-de-regresión-paralelas"><i class="fa fa-check"></i><b>5.2.2</b> I rectas de regresión paralelas</a></li>
<li class="chapter" data-level="5.2.3" data-path="ancova.html"><a href="ancova.html#una-recta-de-regresión"><i class="fa fa-check"></i><b>5.2.3</b> Una recta de regresión</a></li>
<li class="chapter" data-level="5.2.4" data-path="ancova.html"><a href="ancova.html#anova-de-una-vía"><i class="fa fa-check"></i><b>5.2.4</b> ANOVA de una vía</a></li>
<li class="chapter" data-level="5.2.5" data-path="ancova.html"><a href="ancova.html#modelos-sin-efectos"><i class="fa fa-check"></i><b>5.2.5</b> Modelos sin efectos</a></li>
<li class="chapter" data-level="5.2.6" data-path="ancova.html"><a href="ancova.html#especificación-del-modelo-en-r"><i class="fa fa-check"></i><b>5.2.6</b> Especificación del modelo en <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="ancova.html"><a href="ancova.html#análisis-preliminar"><i class="fa fa-check"></i><b>5.3</b> Análisis preliminar</a></li>
<li class="chapter" data-level="5.4" data-path="ancova.html"><a href="ancova.html#ajuste-y-selección-del-modelo"><i class="fa fa-check"></i><b>5.4</b> Ajuste y Selección del modelo</a></li>
<li class="chapter" data-level="5.5" data-path="ancova.html"><a href="ancova.html#diagnóstico-del-modelo"><i class="fa fa-check"></i><b>5.5</b> Diagnóstico del modelo</a></li>
<li class="chapter" data-level="5.6" data-path="ancova.html"><a href="ancova.html#predicción-2"><i class="fa fa-check"></i><b>5.6</b> Predicción</a></li>
<li class="chapter" data-level="5.7" data-path="ancova.html"><a href="ancova.html#ejercicios-modelos-ancova"><i class="fa fa-check"></i><b>5.7</b> Ejercicios modelos ANCOVA</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="smooth.html"><a href="smooth.html"><i class="fa fa-check"></i><b>6</b> Modelos aditivos lineales</a><ul>
<li class="chapter" data-level="6.1" data-path="smooth.html"><a href="smooth.html#bancos-de-datos-3"><i class="fa fa-check"></i><b>6.1</b> Bancos de datos</a></li>
<li class="chapter" data-level="6.2" data-path="smooth.html"><a href="smooth.html#funciones-de-suavizado"><i class="fa fa-check"></i><b>6.2</b> Funciones de suavizado</a><ul>
<li class="chapter" data-level="6.2.1" data-path="smooth.html"><a href="smooth.html#splines-de-regresión"><i class="fa fa-check"></i><b>6.2.1</b> Splines de regresión</a></li>
<li class="chapter" data-level="6.2.2" data-path="smooth.html"><a href="smooth.html#splines-cúbicos"><i class="fa fa-check"></i><b>6.2.2</b> Splines cúbicos</a></li>
<li class="chapter" data-level="6.2.3" data-path="smooth.html"><a href="smooth.html#splines-penalizados"><i class="fa fa-check"></i><b>6.2.3</b> Splines penalizados</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="smooth.html"><a href="smooth.html#bondad-del-ajuste-y-selección-del-modelo"><i class="fa fa-check"></i><b>6.3</b> Bondad del ajuste y selección del modelo</a></li>
<li class="chapter" data-level="6.4" data-path="smooth.html"><a href="smooth.html#diagnóstico-2"><i class="fa fa-check"></i><b>6.4</b> Diagnóstico</a></li>
<li class="chapter" data-level="6.5" data-path="smooth.html"><a href="smooth.html#predicción-3"><i class="fa fa-check"></i><b>6.5</b> Predicción</a></li>
<li class="chapter" data-level="6.6" data-path="smooth.html"><a href="smooth.html#ejercicios-2"><i class="fa fa-check"></i><b>6.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>7</b> Modelos Lineales Generalizados</a><ul>
<li class="chapter" data-level="7.1" data-path="glm.html"><a href="glm.html#modelo-teórico"><i class="fa fa-check"></i><b>7.1</b> Modelo Teórico</a><ul>
<li class="chapter" data-level="7.1.1" data-path="glm.html"><a href="glm.html#distribución-binomial-logit-link"><i class="fa fa-check"></i><b>7.1.1</b> Distribución Binomial (logit link)</a></li>
<li class="chapter" data-level="7.1.2" data-path="glm.html"><a href="glm.html#distribución-poisson-log-link"><i class="fa fa-check"></i><b>7.1.2</b> Distribución Poisson (log link)</a></li>
<li class="chapter" data-level="7.1.3" data-path="glm.html"><a href="glm.html#distribución-normal-link-identidad"><i class="fa fa-check"></i><b>7.1.3</b> Distribución Normal (link identidad)</a></li>
<li class="chapter" data-level="7.1.4" data-path="glm.html"><a href="glm.html#distribución-gamma-link-recíproco"><i class="fa fa-check"></i><b>7.1.4</b> Distribución Gamma (link recíproco)</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="glm.html"><a href="glm.html#estimación-de-los-glm"><i class="fa fa-check"></i><b>7.2</b> Estimación de los GLM</a></li>
<li class="chapter" data-level="7.3" data-path="glm.html"><a href="glm.html#bondad-del-ajuste-2"><i class="fa fa-check"></i><b>7.3</b> Bondad del ajuste</a></li>
<li class="chapter" data-level="7.4" data-path="glm.html"><a href="glm.html#comparación-de-modelos"><i class="fa fa-check"></i><b>7.4</b> Comparación de modelos</a></li>
<li class="chapter" data-level="7.5" data-path="glm.html"><a href="glm.html#diagnóstico-de-los-glm"><i class="fa fa-check"></i><b>7.5</b> Diagnóstico de los GLM</a></li>
<li class="chapter" data-level="7.6" data-path="glm.html"><a href="glm.html#predicción-de-los-glm"><i class="fa fa-check"></i><b>7.6</b> Predicción de los GLM</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="glmbinomial.html"><a href="glmbinomial.html"><i class="fa fa-check"></i><b>8</b> GLM respuesta binomial</a><ul>
<li class="chapter" data-level="8.1" data-path="glmbinomial.html"><a href="glmbinomial.html#tipos-de-datos-binomiales"><i class="fa fa-check"></i><b>8.1</b> Tipos de datos binomiales</a><ul>
<li class="chapter" data-level="8.1.1" data-path="glmbinomial.html"><a href="glmbinomial.html#información-individualizada-por-sujeto"><i class="fa fa-check"></i><b>8.1.1</b> Información individualizada por sujeto</a></li>
<li class="chapter" data-level="8.1.2" data-path="glmbinomial.html"><a href="glmbinomial.html#información-agrupada-por-sujetos"><i class="fa fa-check"></i><b>8.1.2</b> Información agrupada por sujetos</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="glmbinomial.html"><a href="glmbinomial.html#especificación-e-hipótesis-de-modelo"><i class="fa fa-check"></i><b>8.2</b> Especificación e hipótesis de modelo</a><ul>
<li class="chapter" data-level="8.2.1" data-path="glmbinomial.html"><a href="glmbinomial.html#funciones-link"><i class="fa fa-check"></i><b>8.2.1</b> Funciones link</a></li>
<li class="chapter" data-level="8.2.2" data-path="glmbinomial.html"><a href="glmbinomial.html#representación-de-las-funciones-link"><i class="fa fa-check"></i><b>8.2.2</b> Representación de las funciones link</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="glmbinomial.html"><a href="glmbinomial.html#estimación-y-bondad-de-ajuste"><i class="fa fa-check"></i><b>8.3</b> Estimación y bondad de ajuste</a><ul>
<li class="chapter" data-level="8.3.1" data-path="glmbinomial.html"><a href="glmbinomial.html#ejemplos-13"><i class="fa fa-check"></i><b>8.3.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="glmbinomial.html"><a href="glmbinomial.html#selección-del-modelo"><i class="fa fa-check"></i><b>8.4</b> Selección del modelo</a><ul>
<li class="chapter" data-level="8.4.1" data-path="glmbinomial.html"><a href="glmbinomial.html#ejemplos-14"><i class="fa fa-check"></i><b>8.4.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="glmbinomial.html"><a href="glmbinomial.html#diagnóstico-3"><i class="fa fa-check"></i><b>8.5</b> Diagnóstico</a><ul>
<li class="chapter" data-level="8.5.1" data-path="glmbinomial.html"><a href="glmbinomial.html#ejemplos-15"><i class="fa fa-check"></i><b>8.5.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="glmbinomial.html"><a href="glmbinomial.html#predicción-4"><i class="fa fa-check"></i><b>8.6</b> Predicción</a><ul>
<li class="chapter" data-level="8.6.1" data-path="glmbinomial.html"><a href="glmbinomial.html#ejemplos-16"><i class="fa fa-check"></i><b>8.6.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="glmbinomial.html"><a href="glmbinomial.html#ejercicios-3"><i class="fa fa-check"></i><b>8.7</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="glmpoisson.html"><a href="glmpoisson.html"><i class="fa fa-check"></i><b>9</b> GLM Poisson</a><ul>
<li class="chapter" data-level="9.1" data-path="glmpoisson.html"><a href="glmpoisson.html#bancos-de-datos-4"><i class="fa fa-check"></i><b>9.1</b> Bancos de datos</a><ul>
<li class="chapter" data-level="9.1.1" data-path="glmpoisson.html"><a href="glmpoisson.html#telas"><i class="fa fa-check"></i><b>9.1.1</b> Telas</a></li>
<li class="chapter" data-level="9.1.2" data-path="glmpoisson.html"><a href="glmpoisson.html#barcos"><i class="fa fa-check"></i><b>9.1.2</b> Barcos</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="glmpoisson.html"><a href="glmpoisson.html#modelo-teórico-1"><i class="fa fa-check"></i><b>9.2</b> Modelo Teórico</a></li>
<li class="chapter" data-level="9.3" data-path="glmpoisson.html"><a href="glmpoisson.html#estimación-y-bondad-de-ajuste-del-modelo-1"><i class="fa fa-check"></i><b>9.3</b> Estimación y bondad de ajuste del modelo</a><ul>
<li class="chapter" data-level="9.3.1" data-path="glmpoisson.html"><a href="glmpoisson.html#ejemplos-17"><i class="fa fa-check"></i><b>9.3.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="glmpoisson.html"><a href="glmpoisson.html#selección-del-modelo-1"><i class="fa fa-check"></i><b>9.4</b> Selección del modelo</a><ul>
<li class="chapter" data-level="9.4.1" data-path="glmpoisson.html"><a href="glmpoisson.html#ejemplos-18"><i class="fa fa-check"></i><b>9.4.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="glmpoisson.html"><a href="glmpoisson.html#diagnóstico-4"><i class="fa fa-check"></i><b>9.5</b> Diagnóstico</a><ul>
<li class="chapter" data-level="9.5.1" data-path="glmpoisson.html"><a href="glmpoisson.html#ejemplos-19"><i class="fa fa-check"></i><b>9.5.1</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="glmpoisson.html"><a href="glmpoisson.html#predicción-5"><i class="fa fa-check"></i><b>9.6</b> Predicción</a><ul>
<li class="chapter" data-level="9.6.1" data-path="glmpoisson.html"><a href="glmpoisson.html#bancos-de-datos-5"><i class="fa fa-check"></i><b>9.6.1</b> Bancos de datos</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="glmpoisson.html"><a href="glmpoisson.html#ejercicios-4"><i class="fa fa-check"></i><b>9.7</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="glmtablascont.html"><a href="glmtablascont.html"><i class="fa fa-check"></i><b>10</b> GLM para tablas de contingencia</a></li>
<li class="chapter" data-level="11" data-path="bancos-de-datos-6.html"><a href="bancos-de-datos-6.html"><i class="fa fa-check"></i><b>11</b> Bancos de datos</a><ul>
<li class="chapter" data-level="11.1" data-path="bancos-de-datos-6.html"><a href="bancos-de-datos-6.html#melanoma"><i class="fa fa-check"></i><b>11.1</b> Melanoma</a></li>
<li class="chapter" data-level="11.2" data-path="bancos-de-datos-6.html"><a href="bancos-de-datos-6.html#gripe"><i class="fa fa-check"></i><b>11.2</b> Gripe</a></li>
<li class="chapter" data-level="11.3" data-path="bancos-de-datos-6.html"><a href="bancos-de-datos-6.html#aspirina"><i class="fa fa-check"></i><b>11.3</b> Aspirina</a></li>
<li class="chapter" data-level="11.4" data-path="bancos-de-datos-6.html"><a href="bancos-de-datos-6.html#aspiraciones"><i class="fa fa-check"></i><b>11.4</b> Aspiraciones</a></li>
<li class="chapter" data-level="11.5" data-path="bancos-de-datos-6.html"><a href="bancos-de-datos-6.html#contraceptivos"><i class="fa fa-check"></i><b>11.5</b> Contraceptivos</a></li>
<li class="chapter" data-level="11.6" data-path="bancos-de-datos-6.html"><a href="bancos-de-datos-6.html#satisfacción-laboral"><i class="fa fa-check"></i><b>11.6</b> Satisfacción laboral</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Creado con bookdown</a></li>
<li><a href="https://sites.google.com/umh.es/statistical-models" target="blank">Modelos Estadísticos</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Modelos Estadísticos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bancos-de-datos-6" class="section level1">
<h1><span class="header-section-number">Unidad 11</span> Bancos de datos</h1>
<p>A continuación se presentan diferentes ejemplos de tablas de contingencia que iremos analizando a lo largo de la unidad. Realizamos una primera aproximación gráfica a la tabla de contingencia obtenida.</p>
<div id="melanoma" class="section level2">
<h2><span class="header-section-number">11.1</span> Melanoma</h2>
<p>Los datos siguientes provienen de un estudio de pacientes con una forma de cáncer de piel llamado melanoma maligno. En una muestra de 400 pacientes se recogió información sobre la localización del tumor y su tipo histológico. Los datos son el número de pacientes (<code>frecuency</code>) en cada combinación de tipo de tumor (<code>type</code>) y localización (<code>site</code>). El objetivo básico del análisis es investigar si determinados tipos de tumor están asociados a ciertas localizaciones. La tabla de conteos o contingencia recogida es:</p>
<table>
<thead>
<tr class="header">
<th>Tipo / Localización</th>
<th>Cabeza-Cuello</th>
<th>Tronco</th>
<th>Extremidades</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Melanoma de Hutchinson</td>
<td>22</td>
<td>2</td>
<td>10</td>
</tr>
<tr class="even">
<td>Melanoma Superficial</td>
<td>16</td>
<td>54</td>
<td>115</td>
</tr>
<tr class="odd">
<td>Nodular</td>
<td>19</td>
<td>33</td>
<td>73</td>
</tr>
<tr class="even">
<td>Indeterminado</td>
<td>11</td>
<td>17</td>
<td>28</td>
</tr>
</tbody>
</table>
<p>EL código para cargar estos datos se presenta a continaución. En este caso cada línea representa una combinación de factores. También representamos los datos:</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb548-1" title="1"><span class="co"># Carga de datos</span></a>
<a class="sourceLine" id="cb548-2" title="2">Melanoma &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://goo.gl/yeCXsv&quot;</span>, <span class="dt">col_types =</span> <span class="st">&quot;cci&quot;</span>)</a>
<a class="sourceLine" id="cb548-3" title="3"><span class="co"># Gráfico</span></a>
<a class="sourceLine" id="cb548-4" title="4"><span class="kw">ggplot</span>(Melanoma, <span class="kw">aes</span>(<span class="dt">x =</span> site, <span class="dt">y =</span> frequency, <span class="dt">fill =</span> type)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb548-5" title="5"><span class="st">  </span><span class="kw">stat_identity</span>(<span class="dt">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) </a></code></pre></div>
<p><img src="libroSTAT_files/figure-html/tcont001-1.png" width="672" /></p>
<p>Podemos ver claramente que hay ciertos tumores que tienen una mayor predisposición a aparecer en una parte del cuerpo que en otra.</p>
</div>
<div id="gripe" class="section level2">
<h2><span class="header-section-number">11.2</span> Gripe</h2>
<p>En un estudio prospectivo sobre una nueva vacuna para la gripe, los pacientes fueron asignados aleatoriamente a dos grupos. A los pacientes de uno de los grupos se les trató con la nueva vacuna y a los otros se les dio un placebo salino. Las respuestas fueron los niveles de anticuerpos inhibidores de hemoglutinina (HIA) encontrados en la sangre seis semanas después de la vacunación. Los datos se encuentran en el banco de datos siguiente. El objetivo del estudio es investigar el efecto de la nueva vacuna, esto es, comprobar si el hecho de dar placebo o vacuna provoca diferente respuesta HIA. Así, la variable HIA es la variable a explicar (<code>response</code>) en función del tipo de tratamiento (<code>treatment</code>) que ha recibido el paciente y las frecuencias de las celdas (<code>frequency</code>).</p>
<p>La tabla de contingencia obtenida es:</p>
<table>
<thead>
<tr class="header">
<th>Tratamiento / Respuesta</th>
<th>Pequeño</th>
<th>Moderado</th>
<th>Grande</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Placebo</td>
<td>25</td>
<td>8</td>
<td>5</td>
</tr>
<tr class="even">
<td>Vacuna</td>
<td>6</td>
<td>18</td>
<td>11</td>
</tr>
</tbody>
</table>
<p>Podemos cargar los datos y representarlos gráficamente</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb549-1" title="1"><span class="co"># Lectura de datos</span></a>
<a class="sourceLine" id="cb549-2" title="2">Gripe &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://goo.gl/jPcz7x&quot;</span>, <span class="dt">col_types =</span> <span class="st">&quot;cci&quot;</span>)</a>
<a class="sourceLine" id="cb549-3" title="3"><span class="co"># Gráfico</span></a>
<a class="sourceLine" id="cb549-4" title="4"><span class="kw">ggplot</span>(Gripe, <span class="kw">aes</span>(<span class="dt">x =</span> treatment, <span class="dt">y =</span> frequency, <span class="dt">fill =</span> response)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb549-5" title="5"><span class="st">  </span><span class="kw">stat_identity</span>(<span class="dt">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) </a></code></pre></div>
<p><img src="libroSTAT_files/figure-html/tcont002-1.png" width="672" /></p>
<p>Se puede ver un comportamiento distinto entre el placebo y el tratamiento.</p>
</div>
<div id="aspirina" class="section level2">
<h2><span class="header-section-number">11.3</span> Aspirina</h2>
<p>En un estudio retrospectivo de casos-controles, se reunió a un grupo de pacientes con úlcera y se buscó a otro grupo de individuos de similares características a los anteriores en edad, sexo y estatus socio económico, sobre los que no se sabía que tuvieran úlcera péptica. Los pacientes con úlcera fueron clasificados de acuerdo a la localización de la úlcera: gástrica o duodenal. Se les preguntó a todos si consumían aspirina. El objetivo del análisis es averiguar si existe alguna relación entre el consumo de aspirina y la existencia de algún tipo de úlcera. Si existe tal asociación, querríamos comprobar si el consumo de aspirina (<code>aspirina</code>) es más habitual en los pacientes con úlcera gástrica que en los de úlcera duodenal (<code>locali</code>). Interesa predecir el consumo de aspirina (variable a explicar) en función de si un individuo tiene úlcera o no (<code>ulcera</code>). y si la tiene, de qué tipo es. La variable <code>frecuencia</code> contiene los conteos de las combinaciones de tratamientos.</p>
<p>La tabla de contingencia obtenida es:</p>
<table>
<thead>
<tr class="header">
<th>Tipo Úlcera</th>
<th>Úlcera / Consumo de aspirina</th>
<th>No</th>
<th>Si</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Gástrica</td>
<td>Si</td>
<td>39</td>
<td>25</td>
</tr>
<tr class="even">
<td></td>
<td>No</td>
<td>62</td>
<td>6</td>
</tr>
<tr class="odd">
<td>Duodenal</td>
<td>Si</td>
<td>49</td>
<td>8</td>
</tr>
<tr class="even">
<td></td>
<td>No</td>
<td>53</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>Podemos cargar los datos y representarlos gráficamente</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb550-1" title="1"><span class="co"># Carga de datos</span></a>
<a class="sourceLine" id="cb550-2" title="2">locali &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">8</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Gástrica&quot;</span>, <span class="st">&quot;Duodenal&quot;</span>))</a>
<a class="sourceLine" id="cb550-3" title="3">ulcera &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Si&quot;</span>, <span class="st">&quot;No&quot;</span>))</a>
<a class="sourceLine" id="cb550-4" title="4">aspirina &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Si&quot;</span>))</a>
<a class="sourceLine" id="cb550-5" title="5">frecuencia &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">39</span>, <span class="dv">62</span>, <span class="dv">49</span>, <span class="dv">53</span>, <span class="dv">25</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb550-6" title="6">Aspirina &lt;-<span class="st"> </span><span class="kw">data.frame</span>(locali, ulcera, aspirina, frecuencia)</a>
<a class="sourceLine" id="cb550-7" title="7"><span class="co"># Gráfico</span></a>
<a class="sourceLine" id="cb550-8" title="8"><span class="kw">ggplot</span>(Aspirina, <span class="kw">aes</span>(<span class="dt">x =</span> aspirina, <span class="dt">y =</span> frecuencia, <span class="dt">fill =</span> locali)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb550-9" title="9"><span class="st">  </span><span class="kw">stat_identity</span>(<span class="dt">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb550-10" title="10"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>ulcera) <span class="op">+</span></a>
<a class="sourceLine" id="cb550-11" title="11"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">xlab =</span><span class="st">&quot;Consumo de aspirina&quot;</span>, </a>
<a class="sourceLine" id="cb550-12" title="12">       <span class="dt">title =</span> <span class="st">&quot;Desarrollo de úlcera&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;Localización&quot;)</span></a></code></pre></div>
<p><img src="libroSTAT_files/figure-html/tcont003-1.png" width="672" /></p>
<p>De nuevo se observan comportamientos distintos para la combinación de los factores considerados.</p>
</div>
<div id="aspiraciones" class="section level2">
<h2><span class="header-section-number">11.4</span> Aspiraciones</h2>
<p>En la tabla se muestran una parte de los resultados de un estudio en los Estados Unidos con el que se pretendía investigar el grado de asociación entre las aspiraciones de los estudiantes de bachillerato por proseguir con estudios universitarios (<code>aspiraciones</code>) y su entorno social, medido en términos del estatus socio-económico de su familia (<code>estatus</code>) y el hecho de que recibieron motivación en su familia para continuar estudiando (<code>motivacion</code>). La variable <code>frecuencia</code> contiene los conteos para todas las combinaciones. La tabla de contingencia original es:</p>
<table>
<thead>
<tr class="header">
<th>Estatus</th>
<th>Motivación familiar / Aspiraciones Universitarias</th>
<th>No</th>
<th>Si</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Baja</td>
<td>Baja</td>
<td>749</td>
<td>35</td>
</tr>
<tr class="even">
<td></td>
<td>Alta</td>
<td>233</td>
<td>133</td>
</tr>
<tr class="odd">
<td>Media-Baja</td>
<td>Baja</td>
<td>627</td>
<td>38</td>
</tr>
<tr class="even">
<td></td>
<td>Alta</td>
<td>330</td>
<td>303</td>
</tr>
<tr class="odd">
<td>Media-Alta</td>
<td>Baja</td>
<td>420</td>
<td>37</td>
</tr>
<tr class="even">
<td></td>
<td>Alta</td>
<td>374</td>
<td>467</td>
</tr>
<tr class="odd">
<td>Alta</td>
<td>Baja</td>
<td>153</td>
<td>26</td>
</tr>
<tr class="even">
<td></td>
<td>Alta</td>
<td>266</td>
<td>800</td>
</tr>
</tbody>
</table>
<p>Dado que Estatus y Motivación personal son factores ordinales se debe considerar su codificación como variables numéricas. A continuación se presenta la lectura del banco de datos y su representación gráfica.</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb551-1" title="1">estatus &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">16</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Baja&quot;</span>, <span class="st">&quot;Media-Baja&quot;</span>,</a>
<a class="sourceLine" id="cb551-2" title="2">                                   <span class="st">&quot;Media-Alta&quot;</span>, <span class="st">&quot;Alta&quot;</span>))</a>
<a class="sourceLine" id="cb551-3" title="3">motivacion &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">16</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Baja&quot;</span>, <span class="st">&quot;Alta&quot;</span>))</a>
<a class="sourceLine" id="cb551-4" title="4">aspiraciones &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">2</span>, <span class="dv">8</span>, <span class="dv">16</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Si&quot;</span>))</a>
<a class="sourceLine" id="cb551-5" title="5">frecuencia &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">749</span>, <span class="dv">233</span>, <span class="dv">627</span>, <span class="dv">330</span>, <span class="dv">420</span>, <span class="dv">374</span>, <span class="dv">153</span>, <span class="dv">266</span>, </a>
<a class="sourceLine" id="cb551-6" title="6">                <span class="dv">35</span>, <span class="dv">133</span>, <span class="dv">38</span>, <span class="dv">303</span>, <span class="dv">37</span>, <span class="dv">467</span>, <span class="dv">26</span>, <span class="dv">800</span>)</a>
<a class="sourceLine" id="cb551-7" title="7">Aspiraciones &lt;-<span class="st"> </span><span class="kw">data.frame</span>(estatus, motivacion, aspiraciones, frecuencia)</a>
<a class="sourceLine" id="cb551-8" title="8"><span class="co"># Código numérico para factores ordinales</span></a>
<a class="sourceLine" id="cb551-9" title="9">Aspiraciones &lt;-<span class="st"> </span>Aspiraciones <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb551-10" title="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">estatus.num =</span> <span class="kw">as.numeric</span>(<span class="kw">gl</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">16</span>)), </a>
<a class="sourceLine" id="cb551-11" title="11">         <span class="dt">motivacion.num =</span> <span class="kw">as.numeric</span>(<span class="kw">gl</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">16</span>)))</a>
<a class="sourceLine" id="cb551-12" title="12"><span class="co"># Represenatción gráfica</span></a>
<a class="sourceLine" id="cb551-13" title="13"><span class="kw">ggplot</span>(Aspiraciones, <span class="kw">aes</span>(<span class="dt">x =</span> aspiraciones, <span class="dt">y =</span> frecuencia, <span class="dt">fill =</span> motivacion)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb551-14" title="14"><span class="st">  </span><span class="kw">stat_identity</span>(<span class="dt">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb551-15" title="15"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>estatus) <span class="op">+</span></a>
<a class="sourceLine" id="cb551-16" title="16"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">xlab =</span><span class="st">&quot;Conusmo de aspirina&quot;</span>, </a>
<a class="sourceLine" id="cb551-17" title="17">    <span class="dt">title =</span> <span class="st">&quot;Estatus social&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;Motivación&quot;)</span></a></code></pre></div>
<p><img src="libroSTAT_files/figure-html/tcont004-1.png" width="672" /></p>
<p>¿Qué podemos comentar del gráfico obtenido?</p>
</div>
<div id="contraceptivos" class="section level2">
<h2><span class="header-section-number">11.5</span> Contraceptivos</h2>
<p>En la tabla aparecen los datos de un estudio sobre distintos usos contraceptivos en diferentes grupos generacionales. Entendiendo la variable método contraceptivo (<code>metodo</code>) como variable respuesta y la variable edad (<code>edad</code>) como predictiva, una cuestión de interés puede ser predecir el uso anticonceptivo de una mujer en función de su edad. La variable <code>frecuencia</code> contiene los conteos para todas las combinaciones.</p>
<table>
<thead>
<tr class="header">
<th>Edad / Método contraceptivo</th>
<th>Esterilización</th>
<th>Otros</th>
<th>Ninguno</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>15-19</td>
<td>3</td>
<td>61</td>
<td>232</td>
</tr>
<tr class="even">
<td>20-24</td>
<td>80</td>
<td>137</td>
<td>400</td>
</tr>
<tr class="odd">
<td>25-29</td>
<td>216</td>
<td>131</td>
<td>301</td>
</tr>
<tr class="even">
<td>30-34</td>
<td>268</td>
<td>76</td>
<td>203</td>
</tr>
<tr class="odd">
<td>35-39</td>
<td>197</td>
<td>50</td>
<td>188</td>
</tr>
<tr class="even">
<td>40-44</td>
<td>150</td>
<td>24</td>
<td>164</td>
</tr>
<tr class="odd">
<td>45-49</td>
<td>91</td>
<td>10</td>
<td>183</td>
</tr>
</tbody>
</table>
<p>El código de lectura de datos (incluyendo la codificación del factor ordinal como el punto medio del intervalo) y el gráfico se muestran a continuación:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb552-1" title="1">edad &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">21</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;15-19&quot;</span>, <span class="st">&quot;20-24&quot;</span>, <span class="st">&quot;25-29&quot;</span>, </a>
<a class="sourceLine" id="cb552-2" title="2">                                <span class="st">&quot;30-34&quot;</span>, <span class="st">&quot;35-39&quot;</span>, <span class="st">&quot;40-44&quot;</span>, <span class="st">&quot;45-49&quot;</span>))</a>
<a class="sourceLine" id="cb552-3" title="3">metodo &lt;-<span class="st"> </span><span class="kw">gl</span>(<span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">21</span>, <span class="dt">labels =</span> <span class="kw">c</span> (<span class="st">&quot;Esterilización&quot;, &quot;</span>Otros<span class="st">&quot;, &quot;</span>Ninguno<span class="st">&quot;))</span></a>
<a class="sourceLine" id="cb552-4" title="4"><span class="st">frecuencia &lt;- c(3, 80, 216, 268, 197, 150, 91, 61, 137, 131, 76, </span></a>
<a class="sourceLine" id="cb552-5" title="5"><span class="st">                50, 24, 10, 232, 400, 301, 203, 188, 164, 183)</span></a>
<a class="sourceLine" id="cb552-6" title="6"><span class="st">Contraceptivos &lt;- data.frame(edad, metodo, frecuencia)</span></a>
<a class="sourceLine" id="cb552-7" title="7"><span class="st"># Código numérico para factor ordinales</span></a>
<a class="sourceLine" id="cb552-8" title="8"><span class="st">Contraceptivos &lt;- Contraceptivos %&gt;% </span></a>
<a class="sourceLine" id="cb552-9" title="9"><span class="st">  mutate(edad.num = rep(c(17, 22, 27, 32, 37, 42, 47),3))</span></a>
<a class="sourceLine" id="cb552-10" title="10"><span class="st"># Gráfico</span></a>
<a class="sourceLine" id="cb552-11" title="11"><span class="st">ggplot(Contraceptivos, aes(x = metodo, y = frecuencia, fill = edad)) + </span></a>
<a class="sourceLine" id="cb552-12" title="12"><span class="st">  stat_identity(geom = &quot;</span>bar<span class="st">&quot;, position = &quot;</span>dodge<span class="st">&quot;) </span></a></code></pre></div>
<p><img src="libroSTAT_files/figure-html/tcont005-1.png" width="672" /></p>
<p>¿Qué conclusiones podemos obtener de este gráfico?</p>
</div>
<div id="satisfacción-laboral" class="section level2">
<h2><span class="header-section-number">11.6</span> Satisfacción laboral</h2>
<p>Los datos que se presentan corresponden a un estudio en el que se pretendía concluir sobre la relación entre el grado de satisfacción en el trabajo (<code>Estado</code>) y los ingresos percibidos (<code>Ingresos</code>). El objetivo es predecir el grado de satisfacción en el trabajo en función de los ingresos percibidos (en dólares). Construimos la variable <code>frecuencia</code> que contiene los conteos para todas las combinaciones.</p>
<table>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>Ingresos / Satisfacción</th>
<th>Muy Insatisfecho</th>
<th>Poco Insatisfecho</th>
<th>Moderadamente Satisfecho</th>
<th>Muy Satisfecho</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt; 6000</td>
<td>20</td>
<td>24</td>
<td>80</td>
<td>82</td>
</tr>
<tr class="even">
<td>6000 - 15000</td>
<td>22</td>
<td>38</td>
<td>104</td>
<td>125</td>
</tr>
<tr class="odd">
<td>15000 - 25000</td>
<td>13</td>
<td>28</td>
<td>81</td>
<td>113</td>
</tr>
<tr class="even">
<td>&gt; 25000</td>
<td>7</td>
<td>18</td>
<td>54</td>
<td>92</td>
</tr>
</tbody>
</table>
<p>Cargamos los datos que vienen en formato de tabla, con lo que es necesario transformarlos adecuadamente. También se calculan las variables numéricas asociadas con los factores ordinales.</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb553-1" title="1">Satisfaccion &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://goo.gl/5T0nh0&quot;</span>, <span class="dt">col_types =</span> <span class="st">&quot;ciiii&quot;</span>)</a>
<a class="sourceLine" id="cb553-2" title="2"><span class="co"># Construimos la tabla donde cada fila recoge la frecuencia observada para combinación de las variables</span></a>
<a class="sourceLine" id="cb553-3" title="3">Satisfaccion &lt;-<span class="st"> </span>Satisfaccion <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb553-4" title="4"><span class="st">  </span><span class="kw">gather</span>(<span class="st">`</span><span class="dt">Muy insatisfecho</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Poco insatisfecho</span><span class="st">`</span>,</a>
<a class="sourceLine" id="cb553-5" title="5">         <span class="st">`</span><span class="dt">Moderadamente satisfecho</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Muy satisfecho</span><span class="st">`</span>,</a>
<a class="sourceLine" id="cb553-6" title="6">         <span class="dt">key =</span> <span class="st">&quot;Estado&quot;</span>, <span class="dt">value =</span> frecuencia)</a>
<a class="sourceLine" id="cb553-7" title="7"><span class="co"># Código numérico para factores ordinales</span></a>
<a class="sourceLine" id="cb553-8" title="8">Satisfaccion &lt;-<span class="st"> </span>Satisfaccion <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb553-9" title="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Ingresos.num =</span> <span class="kw">as.numeric</span>(<span class="kw">gl</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">16</span>)), </a>
<a class="sourceLine" id="cb553-10" title="10">         <span class="dt">Estado.num =</span> <span class="kw">as.numeric</span>(<span class="kw">gl</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">16</span>)))</a>
<a class="sourceLine" id="cb553-11" title="11"><span class="co"># Gráfico</span></a>
<a class="sourceLine" id="cb553-12" title="12"><span class="co"># Creamos un vector con el orden predefinido</span></a>
<a class="sourceLine" id="cb553-13" title="13">ords &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;&lt; 6000&quot;</span>, <span class="st">&quot;6000 - 15000&quot;</span>, <span class="st">&quot;15000 - 25000&quot;</span>, <span class="st">&quot;&gt; 25000&quot;</span>)</a>
<a class="sourceLine" id="cb553-14" title="14"><span class="kw">ggplot</span>(Satisfaccion, <span class="kw">aes</span>(<span class="dt">x =</span> Ingresos, <span class="dt">y =</span> frecuencia, <span class="dt">fill =</span> Estado)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb553-15" title="15"><span class="st">  </span><span class="kw">stat_identity</span>(<span class="dt">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb553-16" title="16"><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">limits =</span> ords)</a></code></pre></div>
<p><img src="libroSTAT_files/figure-html/tcont006-1.png" width="672" /></p>
<p>¿Qué conclusiones podemos obtener de este gráfico?</p>

<div id="refs" class="references">
<div>
<p>Dobson, A. 2002. <em>An Introduction to Generalized Linear Models</em>. CRC Press.</p>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="glmtablascont.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["libroSTAT.pdf", "libroSTAT.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
